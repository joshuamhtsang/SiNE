<?xml version="1.0" encoding="utf-8"?>
<!--
Two-Room Indoor Scene for SiNE RF Propagation Testing

Scene layout (top-down view, z-axis points up):
- External area: 40m x 40m (x: 0-40m, y: 0-40m)
- Floor at z=0, walls extend to z=3m (no ceiling)
- Dividing wall at x=20m splits into two 20m x 40m rooms
- Doorway in center of dividing wall: 1.3m wide x 2m high
- Light sources in center of each room (10cm x 10cm)

Materials:
- All walls: itu_concrete (10cm thick)
- Floor: itu_concrete

Node positions:
- Room 1 (left):  x: 0-20m,  center at (10, 20, z)
- Room 2 (right): x: 20-40m, center at (30, 20, z)
-->

<scene version="3.0.0">
    <!-- Default integrator -->
    <integrator type="path"/>

    <!-- =============================================== -->
    <!-- FLOOR (40m x 40m, at z=0) -->
    <!-- =============================================== -->
    <shape type="rectangle">
        <transform name="to_world">
            <scale x="20" y="20" z="1"/>
            <translate x="20" y="20" z="0"/>
        </transform>
        <bsdf type="diffuse">
            <string name="mat" value="itu_concrete"/>
        </bsdf>
    </shape>

    <!-- =============================================== -->
    <!-- EXTERNAL WALLS (10cm thick, 3m high) -->
    <!-- =============================================== -->

    <!-- North wall (y=40m) -->
    <shape type="cube">
        <transform name="to_world">
            <scale x="20" y="0.05" z="1.5"/>  <!-- 40m x 10cm x 3m -->
            <translate x="20" y="40" z="1.5"/>
        </transform>
        <bsdf type="diffuse">
            <string name="mat" value="itu_concrete"/>
        </bsdf>
    </shape>

    <!-- South wall (y=0m) -->
    <shape type="cube">
        <transform name="to_world">
            <scale x="20" y="0.05" z="1.5"/>
            <translate x="20" y="0" z="1.5"/>
        </transform>
        <bsdf type="diffuse">
            <string name="mat" value="itu_concrete"/>
        </bsdf>
    </shape>

    <!-- West wall (x=0m) -->
    <shape type="cube">
        <transform name="to_world">
            <scale x="0.05" y="20" z="1.5"/>  <!-- 10cm x 40m x 3m -->
            <translate x="0" y="20" z="1.5"/>
        </transform>
        <bsdf type="diffuse">
            <string name="mat" value="itu_concrete"/>
        </bsdf>
    </shape>

    <!-- East wall (x=40m) -->
    <shape type="cube">
        <transform name="to_world">
            <scale x="0.05" y="20" z="1.5"/>
            <translate x="40" y="20" z="1.5"/>
        </transform>
        <bsdf type="diffuse">
            <string name="mat" value="itu_concrete"/>
        </bsdf>
    </shape>

    <!-- =============================================== -->
    <!-- DIVIDING WALL (x=20m, with 1.3m x 2m doorway) -->
    <!-- =============================================== -->

    <!-- Bottom section of dividing wall (below doorway, z: 0-1m) -->
    <!-- This is the floor-level section under the door opening -->
    <shape type="cube">
        <transform name="to_world">
            <scale x="0.05" y="20" z="0.5"/>  <!-- 10cm x 40m x 1m -->
            <translate x="20" y="20" z="0.5"/>
        </transform>
        <bsdf type="diffuse">
            <string name="mat" value="itu_concrete"/>
        </bsdf>
    </shape>

    <!-- Top section of dividing wall (above doorway, z: 3m) -->
    <!-- This is the section above the door opening to the ceiling -->
    <shape type="cube">
        <transform name="to_world">
            <scale x="0.05" y="20" z="0.5"/>  <!-- 10cm x 40m x 1m (from z=2m to z=3m) -->
            <translate x="20" y="20" z="2.5"/>
        </transform>
        <bsdf type="diffuse">
            <string name="mat" value="itu_concrete"/>
        </bsdf>
    </shape>

    <!-- Left section of dividing wall (y: 0 to doorway_start) -->
    <!-- Doorway center at y=20m, width 1.3m, so starts at y=19.35m -->
    <shape type="cube">
        <transform name="to_world">
            <scale x="0.05" y="9.675" z="1.0"/>  <!-- 10cm x 19.35m x 2m (z: 1-3m) -->
            <translate x="20" y="9.675" z="2.0"/>
        </transform>
        <bsdf type="diffuse">
            <string name="mat" value="itu_concrete"/>
        </bsdf>
    </shape>

    <!-- Right section of dividing wall (doorway_end to y: 40m) -->
    <!-- Doorway ends at y=20.65m, remaining: 40-20.65=19.35m -->
    <shape type="cube">
        <transform name="to_world">
            <scale x="0.05" y="9.675" z="1.0"/>  <!-- 10cm x 19.35m x 2m (z: 1-3m) -->
            <translate x="20" y="30.325" z="2.0"/>
        </transform>
        <bsdf type="diffuse">
            <string name="mat" value="itu_concrete"/>
        </bsdf>
    </shape>

    <!-- =============================================== -->
    <!-- LIGHT SOURCES (10cm x 10cm, centered in each room) -->
    <!-- =============================================== -->

    <!-- Light in Room 1 (left room, center at x=10, y=20) -->
    <shape type="rectangle">
        <transform name="to_world">
            <scale x="0.05" y="0.05" z="1"/>  <!-- 10cm x 10cm -->
            <translate x="10" y="20" z="0.01"/>  <!-- Slightly above floor -->
        </transform>
        <emitter type="area">
            <spectrum name="radiance" value="1.0"/>  <!-- Dim white light -->
        </emitter>
    </shape>

    <!-- Light in Room 2 (right room, center at x=30, y=20) -->
    <shape type="rectangle">
        <transform name="to_world">
            <scale x="0.05" y="0.05" z="1"/>
            <translate x="30" y="20" z="0.01"/>
        </transform>
        <emitter type="area">
            <spectrum name="radiance" value="1.0"/>
        </emitter>
    </shape>

    <!-- =============================================== -->
    <!-- CAMERA (top-down view to see into rooms) -->
    <!-- =============================================== -->
    <sensor type="perspective">
        <transform name="to_world">
            <lookat origin="20, 20, 15"      <!-- 15m above center -->
                    target="20, 20, 0"       <!-- Looking down at floor center -->
                    up="0, 1, 0"/>
        </transform>
        <float name="fov" value="60"/>
        <sampler type="independent">
            <integer name="sample_count" value="64"/>
        </sampler>
        <film type="hdrfilm">
            <integer name="width" value="1024"/>
            <integer name="height" value="1024"/>
        </film>
    </sensor>
</scene>
